<!-- File: m5stick-plus.html (refactor con namastech-ui) -->
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>M5StickC PLUS | Namastech</title>

  <!-- Fuente para contenido fuera del Shadow DOM -->
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet" />
  <link rel="icon" type="image/png" href="assets/img/favicon.png" />

  <!-- Web Components (Header + Footer con Cyber Bar) -->
  <script type="module" src="/assets/js/namastech-ui.js"></script>

  <style>
    /* ======= THEME (alineado a pineapple_kit) ======= */
    :root{
      --bg:#011019; --panel:#0c0c0c; --ink:#e8f7f7; --muted:#b9c7c7;
      --cyan:#00ffe7; --cyan-dim:#00ffcc55; --magenta:#ff00cc; --accent:#ff6600;
      --radius:14px; --glow:0 0 15px var(--cyan);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; background:var(--bg); color:var(--ink);
      font-family:'Orbitron',system-ui,-apple-system,Segoe UI,Roboto,sans-serif;
      -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility; line-height:1.35;
    }
    a{color:var(--cyan); text-decoration:none} a:hover{color:var(--magenta)}
    img{max-width:100%; height:auto; display:block}
    :where(a,button,[tabindex]):focus-visible{outline:2px solid var(--magenta); outline-offset:2px; border-radius:10px}
    @media (prefers-reduced-motion: reduce){ *{animation:none!important; transition:none!important} }

    /* ======= LAYOUT ======= */
    .page{width:min(1100px,100% - 2rem); margin:0 auto}
    .neon-box{
      border:2px solid var(--cyan); border-radius:var(--radius);
      padding:clamp(18px,3.5vw,32px); margin:clamp(16px,4vw,40px) auto;
      background:#000; box-shadow:0 0 30px var(--cyan);
    }
    .title-main{
      text-align:center; color:#fff; margin:0 0 10px;
      font-size:clamp(1.5rem,5.5vw,2rem);
      text-shadow:0 0 15px var(--magenta),0 0 10px var(--cyan);
      letter-spacing:.05em;
    }
    .sub-note{ text-align:center; color:var(--accent); margin:6px 0 18px; font-size:clamp(1rem,3vw,1.1rem) }

    .product-layout{
      display:grid; gap:clamp(14px,3vw,24px);
      grid-template-columns:1fr;
    }
    @media (min-width: 900px){ .product-layout{ grid-template-columns: 1fr 1fr; } }

    /* ======= GALLERY / CARRUSEL ======= */
    .gallery{display:flex; flex-direction:column; gap:12px}
    .carousel{ position:relative; overflow:hidden; border-radius:12px; background:#000; box-shadow:0 0 18px rgba(0,255,231,.25); }
    .carousel-viewport{ width:100%; aspect-ratio:4/3; display:grid; place-items:center; }
    .carousel-images{ position:relative; width:100%; height:100%; }
    .carousel-images img{
      position:absolute; inset:0; width:100%; height:100%;
      object-fit:contain; background:#000; display:none;
    }
    .carousel-images img.active{ display:block; }
    .carousel-btn{
      position:absolute; top:50%; transform:translateY(-50%);
      background:rgba(0,0,0,.5); color:#fff; border:none; font-size:2rem; cursor:pointer;
      padding:2px 10px; border-radius:6px;
    }
    .carousel-btn.prev{ left:10px } .carousel-btn.next{ right:10px }

    /* ======= PRICE + PAGO ======= */
    .price-box{
      text-align:center; border:1px solid var(--cyan-dim); border-radius:12px;
      padding:12px 14px; background:#0a0a0a; box-shadow:0 0 12px rgba(0,255,231,.2);
    }
    .price{ color:var(--magenta); font-weight:800; font-size:clamp(1.2rem,4vw,1.6rem); margin:2px 0 6px }
    .meta{ color:#93a1a1; font-size:.92rem; margin:2px 0 }
    .pay-wrap{ display:flex; justify-content:center; margin-top:12px; text-align:center }

    /* ======= INFO (1 SOLO FRAME) ======= */
    .product-info{
      border:1px solid var(--cyan-dim); border-radius:12px; padding:16px 16px; background:#0b0b0b;
      box-shadow:0 0 12px rgba(0,255,231,.15);
    }
    .product-title{ margin:0 0 8px; color:var(--cyan); font-size:clamp(1.4rem,4.5vw,1.8rem) }
    .product-text{ color:#ddd; line-height:1.7; font-size:clamp(.98rem,2.6vw,1.05rem); margin:8px 0 14px }
    .block-title{ color:var(--accent); font-size:clamp(1.05rem,3.2vw,1.2rem); margin:14px 0 8px }
    .list{ margin:0 0 12px; padding-left: 1rem; }
    .list li{ color:#cfeeee; margin-bottom:6px }

  </style>
</head>
<body>

  <!-- ======= HEADER (Web Component con Cyber Bar) ======= -->
  <namastech-header
    logo-src="/assets/img/profile2.png"
    video-src="/assets/banner.mp4"
    poster-src="/assets/img/profile2.png">
    <!-- slots opcionales:
    <a slot="nav" href="/blog.html">Blog</a>
    <li slot="quicklinks"><a class="cb-link" href="/kits.html">Kits</a></li> -->
  </namastech-header>

  <!-- ======= PRODUCTO ======= -->
  <main class="page">
    <section class="neon-box">
      <h1 class="title-main">M5StickC PLUS</h1>
      <p class="sub-note">ESP32 portátil con pantalla 1.14”, ideal para IoT, educación y DIY.</p>

      <div class="product-layout">
        <!-- LEFT: Galería + Precio + Pago -->
        <aside class="gallery">
          <div class="carousel" aria-label="Galería del producto">
            <div class="carousel-viewport">
              <div class="carousel-images">
                <img class="active" loading="lazy" decoding="async" src="assets/img/products/m5stickplus.webp"  alt="M5StickC Plus vista 1" />
                <img loading="lazy" decoding="async" src="assets/img/products/m5stickplus2.webp" alt="M5StickC Plus vista 2" />
                <img loading="lazy" decoding="async" src="assets/img/products/m5stickplus3.webp" alt="M5StickC Plus vista 3" />
              </div>
            </div>
            <button class="carousel-btn prev" aria-label="Imagen anterior">❮</button>
            <button class="carousel-btn next" aria-label="Imagen siguiente">❯</button>
          </div>

          <div class="price-box">
            <div class="price">$45.000 CLP</div>
            <div class="meta">Envío gratis a todo Chile*</div>
          </div>

          <!-- Botón de pago (idéntico, sin cambios) -->
          <div class="pay-wrap">
            <script src="https://www.mercadopago.cl/integrations/v1/web-payment-checkout.js"
              data-preference-id="2646395895-65bcc330-898f-4065-8a72-68f690afaf28" data-source="button">
            </script>
          </div>
        </aside>

        <!-- RIGHT: 1 solo frame/columna con toda la info -->
        <article class="product-info">
          <h2 class="product-title">Resumen</h2>
          <p class="product-text">
            El <strong>M5StickC PLUS</strong> es la versión mejorada del M5StickC,
            basado en <strong>ESP32-PICO-D4</strong> con <strong>Wi-Fi</strong> y una pantalla
            más grande (1.14”). Compacto, portátil y de código abierto para acelerar
            proyectos IoT con una experiencia de desarrollo sencilla.
          </p>

          <h3 class="block-title">Incluye</h3>
          <ul class="list">
            <li>1× M5StickC Plus</li>
          </ul>

          <h3 class="block-title">Características principales</h3>
          <ul class="list">
            <li>ESP32 con Wi-Fi integrado</li>
            <li>Pantalla LCD de 1.14” (135×240)</li>
            <li>Batería recargable de 120 mAh</li>
            <li>Micrófono, LED rojo, IR, Buzzer</li>
            <li>Sensor IMU de 6 ejes (MPU6886)</li>
            <li>RTC (BM8563) y PMU (AXP192)</li>
            <li>Botones configurables</li>
            <li>Puerto USB-C y conector GROVE</li>
            <li>Compatible con UIFlow, MicroPython, Arduino, .NET nanoFramework</li>
          </ul>

          <h3 class="block-title">Aplicaciones</h3>
          <ul class="list">
            <li>Controladores IoT y wearables</li>
            <li>Educación STEM y prototipado rápido</li>
            <li>Proyectos DIY y kits de desarrollo</li>
          </ul>

          <h3 class="block-title">Especificaciones</h3>
          <ul class="list">
            <li><strong>CPU:</strong> ESP32 dual-core 240 MHz, 520 KB SRAM</li>
            <li><strong>Flash:</strong> 4 MB</li>
            <li><strong>Alimentación:</strong> 5V @ 500 mA (USB-C)</li>
            <li><strong>Conectores:</strong> GROVE (I2C/UART/IO)</li>
            <li><strong>Dimensiones:</strong> 48.2 × 25.5 × 13.7 mm</li>
            <li><strong>Peso:</strong> 15 g</li>
            <li><strong>Temp. operativa:</strong> 0°C a 60°C</li>
          </ul>
        </article>
      </div>
    </section>
  </main>

  <!-- ======= FOOTER (Web Component) ======= -->
  <namastech-footer
    map-src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3330.4567116433087!2d-70.64848092350427!3d-33.437109495057404!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x9662c5a64024a7af%3A0x4d0773f9d3a4fe0!2sEnrique%20Mac%20Iver%20412%2C%20Santiago%2C%20Chile!5e0!3m2!1ses!2scl!4v1693939542335!5m2!1ses!2scl">
  </namastech-footer>

  <script>
    // Carrusel con tamaño estable + autoplay
    document.addEventListener("DOMContentLoaded", () => {
      const root = document.querySelector(".carousel");
      if (!root) return;
      const imgs = root.querySelectorAll(".carousel-images img");
      const prev = root.querySelector(".carousel-btn.prev");
      const next = root.querySelector(".carousel-btn.next");
      let i = 0, timer;

      const show = idx => imgs.forEach((img,k)=> img.classList.toggle("active", k === idx));
      const goNext = () => { i = (i + 1) % imgs.length; show(i); }
      const goPrev = () => { i = (i - 1 + imgs.length) % imgs.length; show(i); }

      prev?.addEventListener("click", ()=>{ goPrev(); restart(); });
      next?.addEventListener("click", ()=>{ goNext(); restart(); });

      const restart = () => { clearInterval(timer); timer = setInterval(goNext, 4000); };

      show(i); restart();
    });
  </script>
</body>
</html>
